@page
@model RazorWebApp.Pages.Staff.ClubManageModel
@{
}
<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Badminton Booking Platform</title>
    <link rel="stylesheet" href="~/assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/assets/css/swiper-icons.css">
    <link rel="stylesheet" href="~/assets/css/bs-theme-overrides.css">
    <link rel="stylesheet" href="~/assets/css/Banner-Heading-Image-images.css">
    <link rel="stylesheet" href="~/assets/css/Navbar-With-Button-icons.css">
    <link rel="stylesheet" href="~/assets/css/Simple-Slider-swiper-bundle.min.css">
    <link rel="stylesheet" href="~/assets/css/Simple-Slider.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.11/jquery.validate.unobtrusive.min.js"></script>
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-md py-3">
            <div class="container-fluid">
                <a class="navbar-brand d-flex align-items-center" href="#"><span><strong>Bacol</strong></span></a>
                <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1">
                    <span class="visually-hidden">Toggle navigation</span>
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navcol-1">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item"></li>
                        <li class="nav-item"></li>
                        <li class="nav-item"></li>
                        <li class="nav-item"></li>
                        <li class="nav-item"></li>
                    </ul>
                    <a class="btn btn-secondary" role="button" href="../Authentication">Đăng xuất</a>
                </div>
            </div>
        </nav>
    </header>
    <main class="bg-light" style="min-height: 80vh;">
        <div class="d-flex">
            <div style="min-height: 80vh;background: var(--bs-white);">
                <div class="p-4 pb-2 pt-2">
                    <a href="ClubManage" style="text-decoration: none;color: var(--bs-black);">Quản lý club</a>
                </div>
                <div class="p-4 pb-2 pt-2">
                    <a href="CourtManage" style="text-decoration: none;color: var(--bs-black);">Quản lý sân</a>
                </div>
                <div class="p-4 pb-2 pt-2">
                    <a href="SlotManage" style="text-decoration: none;color: var(--bs-black);">Quản lý giờ, giá</a>
                </div>
                <div class="p-4 pb-2 pt-2">
                    <a href="ClubBookManage" style="text-decoration: none;color: var(--bs-black);">Lịch đặt sân</a>
                </div>
            </div>
            <div style="flex: 1;" class="p-4">
                <h2 class="fs-4 text-center mt-0">Quản lý club</h2>

                @if (TempData["SuccessMessage"] != null)
                {
                    <div class="alert alert-success" role="alert">
                        @TempData["SuccessMessage"]
                    </div>
                }

                <form method="post">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="mt-4">
                        <p>Tên câu lạc bộ</p>
                        <input class="form-control" type="text" asp-for="Club.ClubName" id="ClubNameInput">
                        <span asp-validation-for="Club.ClubName" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Địa chỉ</p>
                        <input class="form-control" type="text" asp-for="Club.Address" id="ClubDistricnput">
                        <span asp-validation-for="Club.Address" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p style="margin-top: 8px;">Tỉnh / Thành phố</p>
                        <select id="City" class="form-select" asp-for="CityId" asp-items="Model.Cities" onchange="fetchDistricts()">
                            <option value="">Chọn tỉnh / thành phố</option>
                        </select>
                        <span asp-validation-for="CityId" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p style="margin-top: 8px;">Quận / huyện</p>
                        <select id="District" class="form-select" asp-for="DistrictId" asp-items="Model.Districts">
                            <option value="">Chọn quận / huyện</option>
                        </select>
                        <span asp-validation-for="DistrictId" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Email</p>
                        <input class="form-control" type="text" asp-for="Club.ClubEmail" id="ClubEmail">
                        <span asp-validation-for="Club.ClubEmail" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Phone</p>
                        <input class="form-control" type="text" asp-for="Club.ClubPhone" id="ClubPhone">
                        <span asp-validation-for="Club.ClubPhone" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Fanpage</p>
                        <input class="form-control" type="text" asp-for="Club.FanpageLink" id="FanpageLink">
                        <span asp-validation-for="Club.FanpageLink" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Avatar</p>
                        <input class="form-control" type="text" asp-for="Club.AvatarLink" id="AvatarLink">
                        <span asp-validation-for="Club.AvatarLink" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Open Time</p>
                        <input class="form-control" type="time" asp-for="Club.OpenTime" id="OpenTime">
                        <span asp-validation-for="Club.OpenTime" class="text-danger"></span>
                    </div>
                    <div class="mt-4">
                        <p>Close Time</p>
                        <input class="form-control" type="time" asp-for="Club.CloseTime" id="CloseTime">
                        <span asp-validation-for="Club.CloseTime" class="text-danger"></span>
                    </div>
                    <button type="submit" class="btn btn-primary mt-4">Save</button>
                </form>
            </div>
        </div>
    </main>
    <script>
        function fetchDistricts(cityId, districtId) {
            var city = cityId || document.getElementById("City").value;
            if (city) {
                $.ajax({
                    url: '@Url.Page("ClubManage", "GetDistricts")',
                    type: 'GET',
                    data: { cityId: city },
                    success: function (data) {
                        var districtSelect = $('#District');
                        districtSelect.empty();
                        districtSelect.append('<option value="">Chọn quận / huyện</option>');
                        $.each(data, function (index, item) {
                            districtSelect.append('<option value="' + item.value + '">' + item.text + '</option>');
                        });
                        if (districtId) {
                            districtSelect.val(districtId);
                        }
                    }
                });
            }
        }
    </script>
</body>
</html>
